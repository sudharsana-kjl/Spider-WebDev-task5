<html>
<head>
    <script type="text/javascript" src="jquery-1.12.1.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
  <!--<link type="text/css" rel="stylesheet" href="css/style.css">-->
    
</head>
<body>
    <nav>

    <div class="nav-wrapper">
        
<ul >
    <li>&nbsp;&nbsp;&nbsp;</li>
    <li ><h4 class="white-text center-align ">MUSIC</h4></li>
      <ul class="right ">  
      <!--<li ><form >
        <div class="input-field " >
          <input id="search" type="search"  required>
          <label for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">&times;</i>
        </div>
      </form></li>-->
      <li><a class="btn white modal-trigger" href="#modal1" style="color:#f06292;">Search</a></li>

      <li><a class="btn  white" style="color:#f06292;">Login</a></li>
      <li><a class="btn  white " style="color:#f06292;">Sign Up</a></li>
  </ul>
</ul>
    </div>
  </nav>
  <!--<nav>
    <div class= "nav-wrapper teal " style="height:100px;"><p class="white-text" style="font-size:3em;" >Music</p>
<form>
    <div class="input-field">
        <input type="search" name="movie" placeholder="movie title" />
        <label for="search"><i class="material-icons">search</i></label>
        <i class="material-icons">close</i>
    </div>
    
    <button>Go!</button>
</form>
    </div>
</nav>-->
  
<div id="modal1" class="modal">
    <div class="modal-content">
      <form >
        <div class="input-field " >
          <input id="search1" type="text" name="movie" placeholder="movie title" required>
          <label for="search"><i class="material-icons">search</i></label>
          <input type="submit">
          
        </div>
      </form>
      <div id="container">
    <h3 class="title">Title</h3>
    <p class="plot">Plot</p>
    <span class="poster">Poster</span>
    <span class="year">Year</span>
    <span>TODO: IMDB Rating / Votes</span>
    <span>TODO: Tomatoes Rating / Votes /Image</span>
</div>
    </div>
    

  </div> 


<script>

    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
   
    $('.modal-trigger').leanModal();
  
var $Form = $('form'), $Container = $('#container');
$Container.hide();
$Form.on('submit', function(p_oEvent){
    console.log("la");
    var sUrl, sMovie, oData;
    p_oEvent.preventDefault();
sMovie = $('#search1').val(); //$Form.find('input').val();

console.log(sMovie);
    sUrl = 'https://www.omdbapi.com/?t=' + sMovie + '&type=movie&tomatoes=true'
    console.log(sUrl);
    $.ajax(sUrl, {
        complete: function(p_oXHR, p_sStatus){
            oData = $.parseJSON(p_oXHR.responseText);
            console.log(oData);
            $Container.find('.title').text(oData.Title);
            $Container.find('.plot').text(oData.Plot);
            $Container.find('.poster').html('<img src="' + oData.Poster + '"/>');
            $Container.find('.year').text(oData.Year);
            $Container.show();
        }
    });  
    });
</script>
</body>
</html>